{% extends "headerblank.html" %}
{% block content %}
<div class="col-md-12">
  <div class="box primary">
      <header class="text-success">
          <div class="icons"><i class="fa fa-cube"></i></div>
          <h5>SALES LIST</h5>
      </header>
  </div>
</div>

<div class="col-md-12">
  <div class="judul_sub">
    <span class="label label-danger ">Caution! Double click on the row for selecting the data.</span>
  </div>

  <table id="dataList" class="display" cellspacing="0" width="100%">

    <thead>

      <tr>
          <th>No.</th>
          <th>Sales Name</th>
          <th>Telephone</th>
          <th>Email</th>
          <th>ID Sales</th>
      </tr>
  </thead>
  <tbody>
      {% for dt in data %}
      <tr>
        <td>{{loop.index}}.</td>
        <td>{{dt.username}}</td>
        <td>{{dt.handphone}}</td>
        <td>{{dt.email}}</td>
        <td>{{dt.id}}</td>
      </tr>
      {% endfor %}
  </tbody>
  </table>

</div>


<script language="javascript">


$(document).ready(function() {

  var table = $('#dataList').DataTable({
    "bSortCellsTop": true,
    "pageLenght" : 25,
    "searching": true,
    "aLengthMenu": [[25, 100, 200, -1], [25, 100, 200, "All"]],
    "columnDefs": [
      {
          "targets": [ -1 ],
          "visible": false,
          "searchable": false
      }
    ]
  });

    $('#dataList tbody').on('dblclick', 'tr', function () {
      var data = table.row(this).data();
      window.parent.$("#id_sales").val(data[4]);
      window.parent.$("#sales_name").val(data[1]);
      window.parent.$.fancybox.close();
    });

});

</script>
{% endblock %}
